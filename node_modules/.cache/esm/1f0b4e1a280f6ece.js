let RTMClient,BOT_SPAM_CHANNEL,SLACK_OAUTH_TOKEN,WebClient;_280‍.w("@slack/rtm-api",[["RTMClient",["RTMClient"],function(v){RTMClient=v}]]);_280‍.w("./constants",[["BOT_SPAM_CHANNEL",["BOT_SPAM_CHANNEL"],function(v){BOT_SPAM_CHANNEL=v}],["SLACK_OAUTH_TOKEN",["SLACK_OAUTH_TOKEN"],function(v){SLACK_OAUTH_TOKEN=v}]]);_280‍.w("@slack/web-api",[["WebClient",["WebClient"],function(v){WebClient=v}]]);


const packageJson = require("../package.json")

const rtm = new RTMClient(SLACK_OAUTH_TOKEN);
const web = new WebClient(SLACK_OAUTH_TOKEN);

rtm.start()
  .catch(_280‍.g.console.error);

rtm.on("ready", async () => {
  console.log("bot started");
  sendMessage(BOT_SPAM_CHANNEL, `Bot version ${packageJson.version} is online`)
});


rtm.on('slack-event', async (eventType, event) => {
  if (event && event.type === 'message') {
    if (event.text === 'hi') {
      
    }
  }
})



async function sendMessage(channel, message) {
  await web.chat.postMessage({
    channel: channel,
    text: message,
  })
}